<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>h</title>
    <link rel="stylesheet" type="text/css" href="../styles/index.css">
    <link rel="stylesheet" type="text/css" href="../styles/expandableitems.css">
    <link rel="stylesheet" type="text/css" href="../styles/otherpages.css">
    <link href="../styles/prism.css" rel="stylesheet">
    <script src="../app.js" defer></script>
</head>

<body>
    <nav class="navbar">
        <div class="expandable">
            <div class="expandable__title-bar">
                <ion-icon class="expandable__icon" name="menu-outline"></ion-icon>
            </div>
            <div class="expandable__content-wrapper">
                <ul class="expandable__content">
                    <li class="list-items"><a href="../index.html">Home</a></li>
                    <li class="list-items"><a href="aboutresume.html">About [&amp;] Resume</a></li>
                    <li class="list-items"><a href="contact.html">Contact</a></li>
                    <li class="internal-expandable">
                        <div class="internal-expandable__title-bar">
                            <span class="internal-expandable__title">Portfolio</span>
                            <ion-icon class="internal-expandable__icon" name="chevron-back"></ion-icon>
                        </div>
                        <div class="internal-expandable__content-wrapper">
                            <div class="internal-expandable__content">
                                <div class="portfolio_list-items"><a href="sss.html">Soul Sync City</a></div>
                                <div class="portfolio_list-items"><a href="attachmentissues.html">Attachment Issues</a>
                                </div>
                                <div class="portfolio_list-items"><a href="partycrashers.html">Party Crashers</a>
                                </div>
                                <div class="portfolio_list-items"><a href="otherprojects.html">Other Projects</a>
                                </div>
                                <div class="portfolio_list-items"><a href="art.html">Art Showcase</a></div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="navspacer"></div>
    <section class="otherpages">
        <div class="section_title">
            <h1>Home For Now</h1>
            <div class="section-container">
                <div class="section-h-left">
                    <div class="video-container">
                        <iframe controls width="560" height="315" src="https://www.youtube.com/embed/g_hWbqqX57g"
                            title="HomeForNow gameplay video" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                        </iframe>
                    </div>
                </div>
                <div class="section-h-right">
                    <ul class="section-divided-textlist">
                        <li>
                            <h3> Engine </h3>
                            <p>Unity</p>
                        </li>
                        <li>
                            <h3> Language </h3>
                            <p>C#</p>
                        </li>
                        <li>
                            <h3> Duration </h3>
                            <p>48 hours</p>
                        </li>
                        <li>
                            <h3> Team Size </h3>
                            <p>9</p>
                        </li>
                        <li>
                            <h3> Role </h3>
                            <p>Programmer/GameDesigner</p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="responsibilities">
            <div class="section-divided-stack">
                <div class="section-container">
                    <h2>Responsibilities:</h2>
                </div>
                <div class="section-container">
                    <ul class="textlist_bulletpoint">
                        <h4>Mini Games</h4>
                        <li>Rhytmn Game</li>
                        <li>Mouse Catching</li>
                        <li>Default MiniGame</li>
                        <h4>Other</h4>
                        <li>Debuggging</li>
                        <li>Game End States/Gameplay Loop</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="worked_on_details">
            <div class="section-divided-stack">
                <div class="section-container">
                    <h2>My Contributions:</h2>
                </div>
                <div class="section-container">
                    <div class="section-divided-equally-centered">
                        <div class="grid-element" alt="LongPlatform">
                            <model-viewer src="../styles/models/CatFood.glb" ar ar-modes="webxr scene-viewer quick-look"
                                poster="../styles/images/download.png" camera-controls tone-mapping="neutral"
                                shadow-intensity="1" auto-rotate rotation-per-second="20deg" disable-tap>
                            </model-viewer>
                        </div>
                    </div>
                    <div class="section-divided-equally">
                        <h3>Rhytmn Minigame</h3>
                        <p>
                            3D object I made for the cat Rhythm minigame
                        </p>
                    </div>
                </div>

                <div class="section-container" alt="Game Controller Code">
                    <div class="code_container">
                        <h3>Game Controller Code</h3>
                        <pre>
<script src="../prism.js"></script>
                            <div class="code-button-container" id="buttonContainer3">
                                <button onclick="myFunction(button3, buttonContainer3, hide3)" type="button" id="button3" class="defaultButton">DisplayCode</button>
                            </div>
<code class="language-csharp line-numbers" id="hide3" style="display: none;">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using TMPro;
using UnityEngine.SceneManagement;

public class GameController : MonoBehaviour
{
    private const int MAX_TASK_DAY = 5;
    public static int tasksDone = 0;
    public static GameController gc;
    public GameObject fadeInOutObj;
    public List&lt;TextMeshProUGUI&gt; scoreObjects = new List&lt;TextMeshProUGUI&gt;();
    public TextMeshProUGUI textObj;
    public static int day = 1;
    public static int amountCats = 0;
    const string glyphs = "$$anonymous$$0123456789!@#$%^&amp;*()";
    //AKA THE MINIGAME SELECTED
    public ClickableObjectBehavior minigameObject;

    public MouseScript ms;
    public GameObject map;

    public AudioClip failedMiniGame;
    public AudioClip winMiniGame;

    public GameObject catSelection;

    public List&lt;GameObject&gt; catButtons = new List&lt;GameObject&gt;();

    public static List&lt;string&gt; playerPrefClickObjs = new List&lt;string&gt; {
        "Feeding Minigame Clickable", "Laser Minigame Clickable", "Rhythm Minigame Clickable",
        "Mousetoy Minigame Clickable", "Vase Minigame Clickable", "Bellyrub Minigame Clickable",
        "Litterbox", "TP", "Bathtub"};


    private void Awake()
    {
        gc = this;
    }

    private void Update()
    {
        if (Input.GetKeyDown(KeyCode.Escape))
        {
            SceneManager.LoadScene("EndScene");
        }

    }

    public static void FinishTask()
    {
        //Set cursor back to normal
        Cursor.SetCursor(null, Vector2.zero, CursorMode.Auto);

        tasksDone++;
    }

    public void ResetMiniGames()
    {
        foreach(string t in playerPrefClickObjs)
        {
            PlayerPrefs.SetInt(t, 0);
        }
    }

    public IEnumerator Winner()
    {
        fadeInOutObj.gameObject.SetActive(true);
        float alpha = 0;
        Color obj = fadeInOutObj.GetComponent&lt;Image&gt;().color;
        while (alpha &lt; 1)
        {
            fadeInOutObj.GetComponent&lt;Image&gt;().color = new Color(obj.r, obj.g, obj.g, alpha);
            alpha += .1f;
            yield return new WaitForSeconds(.1f);
        }

        fadeInOutObj.GetComponent&lt;Image&gt;().color = new Color(obj.r, obj.g, obj.g, 1);
        textObj.gameObject.SetActive(true);
        textObj.text = "You succesfully raised the cats happiness to full making the adopted!";
        yield return new WaitForSeconds(3);
        SceneManager.LoadScene("EndScene");
    }

    public IEnumerator CompleteMiniGame(string scoreName)
    {
        int Curday = day;
        fadeInOutObj.gameObject.SetActive(true);
        float alpha = 0;
        Color obj = fadeInOutObj.GetComponent&lt;Image&gt;().color;
        while (alpha &lt; 1)
        {
            fadeInOutObj.GetComponent&lt;Image&gt;().color = new Color(obj.r, obj.g, obj.g, alpha);
            alpha += .1f;
            yield return new WaitForSeconds(.1f);
        }

        UpdateTextVisibility(1);

        fadeInOutObj.GetComponent&lt;Image&gt;().color = new Color(obj.r, obj.g, obj.g, 1);

        for (int a = 0; a &lt; 10; a++)
        {
            scoreObjects[1].text = randomString(scoreName.Length);
            yield return new WaitForSeconds(.1f);
        }

        scoreObjects[1].text = scoreName;
        if (scoreName != "Fail")
            SoundManager.Instance.PlaySound(winMiniGame, 100);
        else
            SoundManager.Instance.PlaySound(failedMiniGame, 100);

        obj = fadeInOutObj.GetComponent&lt;Image&gt;().color;
        yield return new WaitForSeconds(2);

        ms.background.SetActive(true);
        minigameObject.miniGameWindow.SetActive(false);
        minigameObject.miniGame.SetActive(false);
        minigameObject.clickable = false;
        ms.miniGameActive = false;
        minigameObject.mouseCursor.SetActive(true);
        minigameObject.m.enabled = false;

        //Advances to next Day
        if (tasksDone == MAX_TASK_DAY)
        {
            day++;
            ResetMiniGames();
            tasksDone = 0;
            if (day &gt;= 8)
            {
                UpdateTextVisibility(0);
                textObj.gameObject.SetActive(true);
                textObj.text = "You ran out of time";
                yield return new WaitForSeconds(3);
                SceneManager.LoadScene("EndScene");
            }
            else if (amountCats == 3)
            {
                //Should've changed this to instead invoke the IEnumerator at line 203 called Winner but ran out of time
                UpdateTextVisibility(0);
                textObj.gameObject.SetActive(true);
                textObj.text = "You succesfully raised the cats happiness to full making the adopted!";
                yield return new WaitForSeconds(3);
                SceneManager.LoadScene("EndScene");
            }

            while (alpha &gt; 0)
            {
                alpha -= .1f;
                UpdateTextVisibility(alpha);
                yield return new WaitForSeconds(.1f);
            }

            textObj.gameObject.SetActive(true);
            textObj.text = "Day " + day.ToString();
            yield return new WaitForSeconds(2);
            alpha = 1;
        }
        while (alpha &gt; 0)
        {
            alpha -= .1f;
            if (scoreObjects[0].gameObject.activeSelf)
            {
                UpdateTextVisibility(alpha);
            }
            fadeInOutObj.GetComponent&lt;Image&gt;().color = new Color(obj.r, obj.g, obj.g, alpha);
            yield return new WaitForSeconds(.1f);
        }

        fadeInOutObj.gameObject.SetActive(false);

        map.SetActive(true);

        if(Curday &lt; day)
        {
            SceneManager.LoadScene(SceneManager.GetActiveScene().name);
        }

    }

    private void UpdateTextVisibility(float alpha)
    {
        foreach (TextMeshProUGUI txt in scoreObjects)
        {
            if (alpha &gt; 0)
            {
                txt.gameObject.SetActive(true);
            }
            else
            {
                txt.gameObject.SetActive(false);
            }
            txt.color = new Color(txt.color.r, txt.color.g, txt.color.b, alpha);
        }
    }

    string randomString(int length)
    {
        string randomString = "";
        for (int a = 0; a &lt; length; a++)
        {
            randomString += glyphs[Random.Range(0, glyphs.Length)].ToString();
        }
        return randomString;
    }

    public void LoadMiniGame(CatObjectBehaviour cat)
    {
        minigameObject.buttonPress(cat);
    }

    public void CatSelectionActivate()
    {
        catSelection.SetActive(true);

        if(amountCats &gt;= 3)
        {
            StartCoroutine(Winner());
        }

        foreach (GameObject g in catButtons)
        {
            int happy = 0;
            switch (g.GetComponent&lt;Image&gt;().sprite.name)
            {
                case ("eyepatch"):
                    happy = PlayerPrefs.GetInt("Eyepatch");
                    break;
                case ("gumball"):
                    happy = PlayerPrefs.GetInt("Gumball");
                    break;
                case ("monkie"):
                    happy = PlayerPrefs.GetInt("Monkie");
                    break;
                default:
                    Debug.LogError("Could not find cat of name: " + g.GetComponent&lt;Image&gt;().sprite.name);
                    break;
            }
            if(happy &gt;= 100)
            {
                g.SetActive(false);
            }
            else
            {
                g.SetActive(true);
            }
        }
    }

    public void CatSelectionDeactivate()
    {
        catSelection.SetActive(false);
        foreach (GameObject g in catButtons)
        {
            if(g.activeInHierarchy)
            {
                g.SetActive(false);
            }
        }
    }
}</code>
                        </pre>
                    </div>
                </div>

                <div class="section-container" alt="Minigame Code">
                    <div class="code_container">
                        <h3>Abstract MiniGame Code</h3>
                        <pre>
<script src="../prism.js"></script>
                            <div class="code-button-container" id="buttonContainer2">
                                <button onclick="myFunction(button2, buttonContainer2, hide2)" type="button" id="button2" class="defaultButton">DisplayCode</button>
                            </div>
<code class="language-csharp line-numbers" id="hide2" style="display: none;">using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public abstract class MiniGame : MonoBehaviour
{
    protected int score;
    protected enum MiniGameRating { Fail, Great, Perfect };
    protected MiniGameRating rating;

    protected bool playedBefore;
    public CatObjectBehaviour cat;

    protected void IncreaseCatHappiness()
    {
        //call setHappy method
        switch(rating)
        {
            case (MiniGameRating.Fail):
                score = 5;
                break;
            case (MiniGameRating.Great):
                score = 10;
                break;
            case (MiniGameRating.Perfect):
                score = 15;
                break;
        }
        cat.GetComponent&lt;CatObjectBehaviour&gt;().setHappy(score);
    }


    protected void EndState()
    {
        Camera.main.gameObject.transform.position = new Vector3(0, 0, 0);
        IncreaseCatHappiness();
        GameController.FinishTask();
        GameController.gc.StartCoroutine(GameController.gc.CompleteMiniGame(rating.ToString()));
    }

    public abstract void EndScoring();
}
</code>
                        </pre>
                    </div>
                </div>

                <div class="section-container" alt="Cat Code">
                    <div class="code_container">
                        <h3>Cat Objects Code</h3>
                        <pre>
<script src="../prism.js"></script>
                            <div class="code-button-container" id="buttonContainer">
                                <button onclick="myFunction(button, buttonContainer, hide)" type="button" id="button" class="defaultButton">DisplayCode</button>
                            </div>
<code class="language-csharp line-numbers" id="hide" style="display: none;">using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class CatObjectBehaviour : MonoBehaviour
{
    //happiness
    public int happy;
    //name of cat
    public string catName;

    public AudioClip meowSFX;
    private bool canMow;

    // Start is called before the first frame update
    void Start()
    {
        //set happy to zero unless the value is something else
        happy = PlayerPrefs.GetInt(catName, 0);

        canMow = false;
    }

    // Update is called once per frame
    void Update()
    {
        if (Input.GetMouseButtonDown(0) &amp;&amp; canMow)
        {
            SoundManager.Instance.PlaySound(meowSFX, 100);
        }
    }

    private void OnMouseOver()
    {
        canMow = true;
    }

    private void OnMouseExit()
    {
        canMow = false;
    }

    //geters and seters
    public void setHappy(int increase)
    {
        happy += increase;
        PlayerPrefs.SetInt(catName, happy);
        CheckCatHappiness();
    }

    public void CheckCatHappiness()
    {
        if(happy &gt;= 100)
        {
            gameObject.SetActive(false);
            GameController.amountCats++;
        }
    }

    public int getHappy()
    {
        return happy;
    }

    //reset happiness
    public void resetHappy()
    {
        happy = 0;
        PlayerPrefs.SetInt(catName, happy);
    }
}</code>
                        </pre>
                    </div>
                </div>

                <!--<div class="section-container">
                    <div class="video-container">
                        <video controls>
                            <source src="/videos/Score Text.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                -->
            </div>
        </div>

        <div class="download_link">
            <div class="section-divided-stack">
                <div class="section-container">
                    <div class="clickable-button">
                        <a href="https://guyoy1.itch.io/home-for-now">Download on itch.io</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

<script>
        function myFunction(button, buttonContainer, hidden) {
        buttonContainer.classList.toggle('open');
        button.classList.toggle('smallButton');

        if (hidden.style.display === "none" ) {
            hidden.style.display = "block";
            button.innerHTML="HideCode";
        } else {
            hidden.style.display = "none";
            button.innerHTML="Display Code";
        }
}
</script>

    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>

</html>